{% extends 'reports/reports_base.html' %}

{% block title %}Form View - PDF Accessibilty Inspector{% endblock%}

{% block content %}

{% if ruleRows|length > 0%} 
<p>
	<b>
		Summary:
	</b>
</p>
<table class = "fancy">
	<tr>
		<th>Rule</th>
		<th>Pass</th>
		<th>Violation</th>
		<th>Manual Inspection</th>
	</tr>
	{% for row in ruleRows %}
	<tr>
		<td>
			{{row.title}}
		</td>
		<td>
			{{row.npass}}
		</td>
		<td>
			{{row.nfail}}
		</td>
		<td>
			{{row.nins}}
		</td>
	</tr>
	{% endfor %}
</table>
{% if tableRows|length > 0%}
<table class = "fancy">
	<tr>
		<th> Rule </th>
		<th> Element </th>
		<th> Result </th>
	</tr>
	{% for row in tableRows %}
	<tr>
		<td rowspan="{{row.tags|length}}"> {{row.title}} </td>
		{% for tag in row.tags %}
				
			{% if forloop.counter == 1 %}
			{% else %}
				<tr class = "{% if forloop.counter|divisibleby:2 %}even{% else %}{% endif %}">
			{% endif %}
			
			<td> {{tag.tagName}}</td>
			<td> 
				{%if tag.result == 2 %} 
					<span style="color: red">Violation</span> 
				{% else %}
					<span style ="color: #FFA500">Manual inspection</span> 
				{% endif %} 
			</td>
			
			{% if forloop.counter == 1 %}
			{% else %}
				</tr>
			{% endif %}
		{% endfor %}
	</tr>
	{%endfor%}
</table>
{% else %}
<h3>
	<span style = "color:green;text-align: center;">All tests passed</span>
</h3>
{% endif %}
{%else%}
<p>
	No form elements found
</p>
{% endif %}


{% endblock %}