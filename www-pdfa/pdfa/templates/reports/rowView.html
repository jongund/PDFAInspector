{% extends 'reports/reports_base.html' %}

{% block title %}Form View - PDF Accessibilty Inspector{% endblock%}

{% block content %} <h2>Summary</h2>
<div class="tag_summary">
	<p>
		Number of {{name}} tags: {%if tagged%}{%if num == 0%}<span class = "none">none</span>{%else%}{{num}}{%endif%}{%else%}<span class = "v">document is not tagged</span>{%endif%}
	</p>
	<table class="rules" aria-labelledby="summary">
		<thead>
			<tr>
				<th>Accessibility Requirement</th>
				<th>Violation</th>
				<th>Manual Inspection</th>
			</tr>
		</thead>
		<tbody>
			{% for row in ruleRows %}
			<tr class = "{% if forloop.counter|divisibleby:2 %}even{% else %}{% endif %}">
				<th>{{row.title}}</th>
				{%if tagged%}
					{%if num == 0%}<td class = "none">No {{name}} tags</td><td class = "none">No {{name}} tags</td>
					{%else%}
						{%if row.nfail == 0%}<td class = "z">0</td>
						{%else%}<td class ="v">row.nfail</td>
						{%endif%}
						{%if row.nins == 0%}<td class = "z">0</td>
						{%else%}<td class ="mc">row.nins</td>
						{%endif%}
					{%endif%}
				{%else%}<td class = "v">document is not tagged</td><td class = "v">document is not tagged</td>
				{%endif%}
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
<h2>{{name}}s</h2>
<div class="tag_summary">
{% if numfail > 0 %}	
<table class = "rules">
	<thead>
		<tr>
			<th>Accessibility Requirement</th>
			<th>Tag</th>
			<th>Page</th>
			<th>Action</th>
		</tr>
	</thead>
	{% for row in ruleRows %}
	{% if row.rowspan > 0%}
	<tr>
		<td rowspan="{{row.rowspan}}"> {{row.title}} </td>
		{% for tag in row.tags%}
		{% if forloop.counter != 1 %}
		<tr>
		{%endif%}
		<td>{{tag.tagName}} {{tag.tag}}</td>
		{%if tag.page > 0%}<td class = "none">unknown</td>{%else%}<td>{{tag.page}}</td>{%endif%}
		<td>{{tag.message}}</td>
		{% if forloop.counter != 1 %}
		<tr>
		{%endif%}
		{%endfor%}
	</tr>
	{%else%}
	{%endif%}
	{% endfor %}
</table>
{%else%}
<h3><span style="color:green;">No violations or manual checks </span></h3>
{%endif%}
</div>
{% endblock %}