// rules
function tagged(tags)
{
	if(tags == null) 
		print("Tags Exist: FAIL!");
	else
		print("Tags Exist: PASS!");
} 
function tableformatted(table)
{
	for(row in table)
	{
		var numcols = 0;
		if(row != "tr")
		{
			print("table format error?");
			return;
		}
		if(table[row].length >= 2)
			print("At Least 2 Rows: PASS!");
		else
			print("At Least 2 Rows: FAIL!");
		for(i=0; i<table[row].length; i=i+1)
		{
			for(td in table[row][i])
			{
				if(td != "td")
				{
					print("table format error?");
					return;
				}
				if(table[row][i][td].length > numcols)
					numcols = table[row][i][td].length;
			}
		}
		if(numcols >= 2)
			print("At Least 2 Cols: PASS!");
		else
			print("At Least 2 Cols: FAIL!");
		
	}
}

// processing
// extract specific data from the root
var tags = root.tags;

// use rules on necessary parts of json
tagged(tags);

// traverse the json of the tags
function traverse(tags)
{
	for(item in tags)
	{
		var val = tags[item];
		// if its a table run the table rule on it
		if(item == "table")
		{
			tableformatted(val);
		}
		if(val.length != null)
		{
			for(i=0;i<val.length;i++)
			{
				traverse(val[i]);
			}
		}
		else{
			traverse(val);
		}
	}
}

traverse(tags);